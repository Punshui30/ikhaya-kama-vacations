/* Mobile-only fixes for destinations - scoped to prevent desktop conflicts */
@media (max-width: 768px) {
  .ik-root {
    /* ===== DESTINATIONS RAIL FIXES ===== */
    
    /* Remove horizontal overflow from rail container */
    .destinations-rail {
      overflow: hidden;
      margin: 0;
      padding: 0;
    }
    
    .carousel-viewport {
      overflow-x: auto;
      overflow-y: hidden;
      -webkit-overflow-scrolling: touch;
      scroll-snap-type: x mandatory;
      scrollbar-width: none;
      margin-left: calc(-50vw + 50%);
      width: 100vw;
      padding: 0 16px;
      
      &::-webkit-scrollbar {
        display: none;
      }
    }
    
    .carousel-track {
      display: flex;
      gap: 16px;
      padding: 8px 0;
    }
    
    .carousel-item {
      flex: 0 0 280px;
      scroll-snap-align: start;
    }
    
    /* ===== STANDARDIZE ALL TILE ASPECT RATIOS ===== */
    
    .postcard {
      aspect-ratio: 4 / 5 !important;
      max-height: 350px !important;
      border-radius: 16px !important;
      overflow: hidden !important;
      position: relative !important;
    }
    
    .postcard__inner {
      width: 100% !important;
      height: 100% !important;
      position: relative !important;
    }
    
    .postcard img {
      width: 100% !important;
      height: 100% !important;
      object-fit: cover !important;
      object-position: center 15% !important; /* Default top bias for all tiles */
      display: block !important;
    }
    
    /* ===== SPECIFIC FIXES FOR SQUARE TILES WITH BAKED-IN TEXT ===== */
    
    /* South Africa (1024x1024) - center to show baked-in text */
    .ik-root .postcard[data-slug="south-africa"] img {
      object-position: center center !important;
      object-fit: contain !important;
      background: #2a2a2a !important;
    }
    
    /* Botswana (1024x1024) - center to show baked-in text */
    .ik-root .postcard[data-slug="botswana"] img {
      object-position: center center !important;
      object-fit: contain !important;
      background: #2a2a2a !important;
    }
    
    /* Morocco (1024x1024) - center to show baked-in text */
    .ik-root .postcard[data-slug="morocco"] img {
      object-position: center center !important;
      object-fit: contain !important;
      background: #2a2a2a !important;
    }
    
    /* Zimbabwe (1024x1024) - center to show baked-in text */
    .ik-root .postcard[data-slug="zimbabwe"] img {
      object-position: center center !important;
      object-fit: contain !important;
      background: #2a2a2a !important;
    }
    
    /* Rectangular tiles (Kenya, Tanzania, etc.) - keep cover with centered positioning */
    .ik-root .postcard[data-slug="kenya"] img,
    .ik-root .postcard[data-slug="tanzania"] img,
    .ik-root .postcard[data-slug="namibia"] img,
    .ik-root .postcard[data-slug="uganda"] img {
      object-position: center center !important;
      object-fit: cover !important;
    }
    
    /* ===== DETAIL PAGE HERO CARD FIXES ===== */
    
    .hero {
      display: grid !important;
      place-items: center !important;
      padding: 20px 16px !important;
      min-height: calc(100vh - 200px) !important;
    }
    
    .hero-grid {
      display: block !important;
      text-align: center !important;
    }
    
    .media-card {
      width: min(75vw, 320px) !important;
      aspect-ratio: 4 / 5 !important;
      margin: 0 auto 24px auto !important;
      border-radius: 16px !important;
      overflow: hidden !important;
      position: relative !important;
      border: 2px solid rgba(255, 255, 255, 0.9) !important;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.3) !important;
    }
    
    .card-carousel {
      width: 100% !important;
      height: 100% !important;
      position: relative !important;
    }
    
    .hero-photo {
      position: absolute !important;
      top: 0 !important;
      left: 0 !important;
      width: 100% !important;
      height: 100% !important;
      object-fit: cover !important;
      object-position: center 30% !important; /* Slight top bias to keep horizons visible */
      opacity: 0 !important;
      transition: opacity 0.6s ease !important;
    }
    
    .hero-photo.is-active {
      opacity: 1 !important;
    }
    
    /* ===== MOBILE PAGINATION DOTS - SMALL AND INSIDE CARD ===== */
    
    .card-dots {
      position: absolute !important;
      bottom: 12px !important;
      left: 50% !important;
      transform: translateX(-50%) !important;
      display: flex !important;
      gap: 6px !important;
      z-index: 3 !important;
    }
    
    .card-dots .dot {
      width: 6px !important;
      height: 6px !important;
      border-radius: 50% !important;
      background: rgba(255, 255, 255, 0.6) !important;
      border: 1px solid rgba(0, 0, 0, 0.2) !important;
      cursor: pointer !important;
      transition: all 0.2s ease !important;
    }
    
    .card-dots .dot.on {
      background: #fff !important;
      transform: scale(1.2) !important;
    }
    
    /* ===== TEXT CONTENT POSITIONING ===== */
    
    .copy {
      padding: 0 16px !important;
      max-width: 400px !important;
      margin: 0 auto !important;
    }
    
    .copy h1 {
      font-size: clamp(2rem, 5vw, 2.8rem) !important;
      margin-bottom: 12px !important;
      line-height: 1.1 !important;
    }
    
    .copy .tagline {
      font-size: clamp(1rem, 2.5vw, 1.2rem) !important;
      margin-bottom: 16px !important;
      line-height: 1.3 !important;
    }
    
    .copy .description {
      font-size: clamp(0.9rem, 2vw, 1rem) !important;
      line-height: 1.4 !important;
      margin-bottom: 20px !important;
    }
    
    .copy .quick-highlights,
    .copy .best-time {
      margin: 16px 0 !important;
    }
    
    .copy .quick-highlights h3,
    .copy .best-time h3 {
      font-size: clamp(1rem, 2.2vw, 1.1rem) !important;
      margin-bottom: 8px !important;
    }
    
    .copy .quick-highlights li,
    .copy .best-time li {
      font-size: clamp(0.85rem, 1.8vw, 0.95rem) !important;
      margin: 4px 0 !important;
    }
  }
}

/* Desktop preservation - ensure no mobile fixes affect desktop */
@media (min-width: 769px) {
  .ik-root {
    /* Restore original desktop media card sizing */
    .media-card {
      width: 400px !important;
      height: 500px !important;
      aspect-ratio: unset !important;
    }
    
    /* Desktop pagination dots - normal size */
    .card-dots .dot {
      width: 8px !important;
      height: 8px !important;
    }
    
    /* Desktop hero grid - restore original layout */
    .hero-grid {
      display: grid !important;
      grid-template-columns: 400px 1fr !important;
      gap: 60px !important;
      align-items: center !important;
    }
    
    /* Desktop copy positioning */
    .copy {
      padding: 0 !important;
      max-width: none !important;
      margin: 0 !important;
      text-align: left !important;
    }
  }
}
